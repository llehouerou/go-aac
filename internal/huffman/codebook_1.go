// Package huffman implements AAC Huffman decoding.
package huffman

// hcb1_1 is the first-step lookup table for codebook 1.
// Uses 5 bits to find offset into second-step table and number of extra bits to read.
//
// Copied from: ~/dev/faad2/libfaad/codebook/hcb_1.h:39-83 (hcb1_1[32])
var hcb1_1 = [32]HCB{
	// 1 bit codeword (indices 0-15 all map to offset 0)
	{0, 0}, // 00000
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},

	// 5 bit codewords
	{1, 0}, // 10000
	{2, 0}, // 10001
	{3, 0}, // 10010
	{4, 0}, // 10011
	{5, 0}, // 10100
	{6, 0}, // 10101
	{7, 0}, // 10110
	{8, 0}, // 10111

	// 7 bit codewords
	{9, 2},  // 11000
	{13, 2}, // 11001
	{17, 2}, // 11010
	{21, 2}, // 11011
	{25, 2}, // 11100
	{29, 2}, // 11101

	// 9 bit codewords
	{33, 4}, // 11110

	// 9/10/11 bit codewords
	{49, 6}, // 11111

	// Size of second level table is 49 + 64 = 113
}

// hcb1_2 is the second-step lookup table for codebook 1.
// Gives size of codeword and actual data (x, y, v, w).
//
// Copied from: ~/dev/faad2/libfaad/codebook/hcb_1.h:89-191 (hcb1_2[113])
var hcb1_2 = [113]HCB2Quad{
	// 1 bit codeword
	{1, 0, 0, 0, 0},

	// 5 bit codewords
	{5, 1, 0, 0, 0},
	{5, -1, 0, 0, 0},
	{5, 0, 0, 0, -1},
	{5, 0, 1, 0, 0},
	{5, 0, 0, 0, 1},
	{5, 0, 0, -1, 0},
	{5, 0, 0, 1, 0},
	{5, 0, -1, 0, 0},

	// 7 bit codewords
	// first 5 bits: 11000
	{7, 1, -1, 0, 0},
	{7, -1, 1, 0, 0},
	{7, 0, 0, -1, 1},
	{7, 0, 1, -1, 0},
	// first 5 bits: 11001
	{7, 0, -1, 1, 0},
	{7, 0, 0, 1, -1},
	{7, 1, 1, 0, 0},
	{7, 0, 0, -1, -1},
	// first 5 bits: 11010
	{7, -1, -1, 0, 0},
	{7, 0, -1, -1, 0},
	{7, 1, 0, -1, 0},
	{7, 0, 1, 0, -1},
	// first 5 bits: 11011
	{7, -1, 0, 1, 0},
	{7, 0, 0, 1, 1},
	{7, 1, 0, 1, 0},
	{7, 0, -1, 0, 1},
	// first 5 bits: 11100
	{7, 0, 1, 1, 0},
	{7, 0, 1, 0, 1},
	{7, -1, 0, -1, 0},
	{7, 1, 0, 0, 1},
	// first 5 bits: 11101
	{7, -1, 0, 0, -1},
	{7, 1, 0, 0, -1},
	{7, -1, 0, 0, 1},
	{7, 0, -1, 0, -1},

	// 9 bit codewords
	// first 5 bits: 11110
	{9, 1, 1, -1, 0},
	{9, -1, 1, -1, 0},
	{9, 1, -1, 1, 0},
	{9, 0, 1, 1, -1},
	{9, 0, 1, -1, 1},
	{9, 0, -1, 1, 1},
	{9, 0, -1, 1, -1},
	{9, 1, -1, -1, 0},
	{9, 1, 0, -1, 1},
	{9, 0, 1, -1, -1},
	{9, -1, 1, 1, 0},
	{9, -1, 0, 1, -1},
	{9, -1, -1, 1, 0},
	{9, 0, -1, -1, 1},
	{9, 1, -1, 0, 1},
	{9, 1, -1, 0, -1},

	// 9/10/11 bit codewords
	// first 5 bits: 11111
	// 9 bit: reading 11 bits -> 2 too much so 4 entries for each codeword
	{9, -1, 1, 0, -1}, {9, -1, 1, 0, -1}, {9, -1, 1, 0, -1}, {9, -1, 1, 0, -1},
	{9, -1, -1, -1, 0}, {9, -1, -1, -1, 0}, {9, -1, -1, -1, 0}, {9, -1, -1, -1, 0},
	{9, 0, -1, -1, -1}, {9, 0, -1, -1, -1}, {9, 0, -1, -1, -1}, {9, 0, -1, -1, -1},
	{9, 0, 1, 1, 1}, {9, 0, 1, 1, 1}, {9, 0, 1, 1, 1}, {9, 0, 1, 1, 1},
	{9, 1, 0, 1, -1}, {9, 1, 0, 1, -1}, {9, 1, 0, 1, -1}, {9, 1, 0, 1, -1},
	{9, 1, 1, 0, 1}, {9, 1, 1, 0, 1}, {9, 1, 1, 0, 1}, {9, 1, 1, 0, 1},
	{9, -1, 1, 0, 1}, {9, -1, 1, 0, 1}, {9, -1, 1, 0, 1}, {9, -1, 1, 0, 1},
	{9, 1, 1, 1, 0}, {9, 1, 1, 1, 0}, {9, 1, 1, 1, 0}, {9, 1, 1, 1, 0},
	// 10 bit: reading 11 bits -> 1 too much so 2 entries for each codeword
	{10, -1, -1, 0, 1}, {10, -1, -1, 0, 1},
	{10, -1, 0, -1, -1}, {10, -1, 0, -1, -1},
	{10, 1, 1, 0, -1}, {10, 1, 1, 0, -1},
	{10, 1, 0, -1, -1}, {10, 1, 0, -1, -1},
	{10, -1, 0, -1, 1}, {10, -1, 0, -1, 1},
	{10, -1, -1, 0, -1}, {10, -1, -1, 0, -1},
	{10, -1, 0, 1, 1}, {10, -1, 0, 1, 1},
	{10, 1, 0, 1, 1}, {10, 1, 0, 1, 1},
	// 11 bit
	{11, 1, -1, 1, -1},
	{11, -1, 1, -1, 1},
	{11, -1, 1, 1, -1},
	{11, 1, -1, -1, 1},
	{11, 1, 1, 1, 1},
	{11, -1, -1, 1, 1},
	{11, 1, 1, -1, -1},
	{11, -1, -1, 1, -1},
	{11, -1, -1, -1, -1},
	{11, 1, 1, -1, 1},
	{11, 1, -1, 1, 1},
	{11, -1, 1, 1, 1},
	{11, -1, 1, -1, -1},
	{11, -1, -1, -1, 1},
	{11, 1, -1, -1, -1},
	{11, 1, 1, 1, -1},
}
