// Package huffman implements AAC Huffman decoding.
package huffman

// hcb2_1 is the first-step lookup table for codebook 2.
// Uses 5 bits to find offset into second-step table and number of extra bits to read.
//
// Copied from: ~/dev/faad2/libfaad/codebook/hcb_2.h:39-87 (hcb2_1[32])
var hcb2_1 = [32]HCB{
	// 3 bit codeword (indices 0-3 all map to offset 0)
	{0, 0}, // 00000
	{0, 0},
	{0, 0},
	{0, 0}, // 00011

	// 4 bit codeword
	{1, 0}, // 00100
	{1, 0}, // 00101

	// 5 bit codewords
	{2, 0}, // 00110
	{3, 0}, // 00111
	{4, 0}, // 01000
	{5, 0}, // 01001
	{6, 0}, // 01010
	{7, 0}, // 01011
	{8, 0}, // 01100

	// 6 bit codewords
	{9, 1},  // 01101
	{11, 1}, // 01110
	{13, 1}, // 01111
	{15, 1}, // 10000
	{17, 1}, // 10001
	{19, 1}, // 10010
	{21, 1}, // 10011
	{23, 1}, // 10100
	{25, 1}, // 10101
	{27, 1}, // 10110
	{29, 1}, // 10111
	{31, 1}, // 11000

	// 7 bit codewords
	{33, 2}, // 11001
	{37, 2}, // 11010
	{41, 2}, // 11011

	// 7/8 bit codewords
	{45, 3}, // 11100

	// 8 bit codewords
	{53, 3}, // 11101
	{61, 3}, // 11110

	// 8/9 bit codewords
	{69, 4}, // 11111

	// Size of second level table is 69 + 16 = 85
}

// hcb2_2 is the second-step lookup table for codebook 2.
// Gives size of codeword and actual data (x, y, v, w).
//
// Copied from: ~/dev/faad2/libfaad/codebook/hcb_2.h:95-192 (hcb2_2[85])
var hcb2_2 = [85]HCB2Quad{
	// 3 bit codeword
	{3, 0, 0, 0, 0},

	// 4 bit codeword
	{4, 1, 0, 0, 0},

	// 5 bit codewords
	{5, -1, 0, 0, 0},
	{5, 0, 0, 0, 1},
	{5, 0, 0, -1, 0},
	{5, 0, 0, 0, -1},
	{5, 0, -1, 0, 0},
	{5, 0, 0, 1, 0},
	{5, 0, 1, 0, 0},

	// 6 bit codewords
	{6, 0, -1, 1, 0},
	{6, -1, 1, 0, 0},
	{6, 0, 1, -1, 0},
	{6, 0, 0, 1, -1},
	{6, 0, 1, 0, -1},
	{6, 0, 0, -1, 1},
	{6, -1, 0, 0, -1},
	{6, 1, -1, 0, 0},
	{6, 1, 0, -1, 0},
	{6, -1, -1, 0, 0},
	{6, 0, 0, -1, -1},
	{6, 1, 0, 1, 0},
	{6, 1, 0, 0, 1},
	{6, 0, -1, 0, 1},
	{6, -1, 0, 1, 0},
	{6, 0, 1, 0, 1},
	{6, 0, -1, -1, 0},
	{6, -1, 0, 0, 1},
	{6, 0, -1, 0, -1},
	{6, -1, 0, -1, 0},
	{6, 1, 1, 0, 0},
	{6, 0, 1, 1, 0},
	{6, 0, 0, 1, 1},
	{6, 1, 0, 0, -1},

	// 7 bit codewords
	{7, 0, 1, -1, 1},
	{7, 1, 0, -1, 1},
	{7, -1, 1, -1, 0},
	{7, 0, -1, 1, -1},
	{7, 1, -1, 1, 0},
	{7, 1, 1, 0, -1},
	{7, 1, 0, 1, 1},
	{7, -1, 1, 1, 0},
	{7, 0, -1, -1, 1},
	{7, 1, 1, 1, 0},
	{7, -1, 0, 1, -1},
	{7, -1, -1, -1, 0},

	// 7/8 bit codewords
	{7, -1, 0, -1, 1}, {7, -1, 0, -1, 1},
	{7, 1, -1, -1, 0}, {7, 1, -1, -1, 0},
	{7, 1, 1, -1, 0}, {7, 1, 1, -1, 0},
	{8, 1, -1, 0, 1},
	{8, -1, 1, 0, -1},

	// 8 bit codewords
	{8, -1, -1, 1, 0},
	{8, -1, 0, 1, 1},
	{8, -1, -1, 0, 1},
	{8, -1, -1, 0, -1},
	{8, 0, -1, -1, -1},
	{8, 1, 0, 1, -1},
	{8, 1, 0, -1, -1},
	{8, 0, 1, -1, -1},
	{8, 0, 1, 1, 1},
	{8, -1, 1, 0, 1},
	{8, -1, 0, -1, -1},
	{8, 0, 1, 1, -1},
	{8, 1, -1, 0, -1},
	{8, 0, -1, 1, 1},
	{8, 1, 1, 0, 1},
	{8, 1, -1, 1, -1},

	// 8/9 bit codewords
	{8, -1, 1, -1, 1}, {8, -1, 1, -1, 1},
	{9, 1, -1, -1, 1},
	{9, -1, -1, -1, -1},
	{9, -1, 1, 1, -1},
	{9, -1, 1, 1, 1},
	{9, 1, 1, 1, 1},
	{9, -1, -1, 1, -1},
	{9, 1, -1, 1, 1},
	{9, -1, 1, -1, -1},
	{9, -1, -1, 1, 1},
	{9, 1, 1, -1, -1},
	{9, 1, -1, -1, -1},
	{9, -1, -1, -1, 1},
	{9, 1, 1, -1, 1},
	{9, 1, 1, 1, -1},
}
